{"ast":null,"code":"import React,{useEffect}from\"react\";import{Button}from\"theme-ui\";import{useLiquity}from\"../../../hooks/LiquityContext\";import{Transaction,useMyTransactionState}from\"../../Transaction\";import{useFarmView}from\"../context/FarmViewContext\";import{useValidationState}from\"../context/useValidationState\";import{jsx as _jsx}from\"react/jsx-runtime\";var transactionId=\"farm-approve\";export var Approve=function Approve(_ref){var amount=_ref.amount;var _useFarmView=useFarmView(),dispatchEvent=_useFarmView.dispatchEvent;var _useLiquity=useLiquity(),liquity=_useLiquity.liquity.send;var _useValidationState=useValidationState(amount),hasApproved=_useValidationState.hasApproved;var transactionState=useMyTransactionState(transactionId);useEffect(function(){if(transactionState.type===\"confirmedOneShot\"){dispatchEvent(\"STAKE_APPROVED\");}},[transactionState.type,dispatchEvent]);if(hasApproved){return null;}return/*#__PURE__*/_jsx(Transaction,{id:transactionId,send:liquity.approveUniTokens.bind(liquity,undefined),showFailure:\"asTooltip\",tooltipPlacement:\"bottom\",children:/*#__PURE__*/_jsx(Button,{sx:{width:\"60%\"},children:\"Approve UNI LP\"})});};","map":{"version":3,"sources":["/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/Farm/views/Approve.tsx"],"names":["React","useEffect","Button","useLiquity","Transaction","useMyTransactionState","useFarmView","useValidationState","transactionId","Approve","amount","dispatchEvent","liquity","send","hasApproved","transactionState","type","approveUniTokens","bind","undefined","width"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,KAAuB,UAAvB,CAEA,OAASC,UAAT,KAA2B,+BAA3B,CACA,OAASC,WAAT,CAAsBC,qBAAtB,KAAmD,mBAAnD,CACA,OAASC,WAAT,KAA4B,4BAA5B,CACA,OAASC,kBAAT,KAAmC,+BAAnC,C,2CAMA,GAAMC,CAAAA,aAAa,CAAG,cAAtB,CAEA,MAAO,IAAMC,CAAAA,OAA+B,CAAG,QAAlCA,CAAAA,OAAkC,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,kBACnCJ,WAAW,EADwB,CACrDK,aADqD,cACrDA,aADqD,iBAIzDR,UAAU,EAJ+C,CAG1CS,OAH0C,aAG3DA,OAH2D,CAGhDC,IAHgD,yBAMrCN,kBAAkB,CAACG,MAAD,CANmB,CAMrDI,WANqD,qBAMrDA,WANqD,CAO7D,GAAMC,CAAAA,gBAAgB,CAAGV,qBAAqB,CAACG,aAAD,CAA9C,CAEAP,SAAS,CAAC,UAAM,CACd,GAAIc,gBAAgB,CAACC,IAAjB,GAA0B,kBAA9B,CAAkD,CAChDL,aAAa,CAAC,gBAAD,CAAb,CACD,CACF,CAJQ,CAIN,CAACI,gBAAgB,CAACC,IAAlB,CAAwBL,aAAxB,CAJM,CAAT,CAMA,GAAIG,WAAJ,CAAiB,CACf,MAAO,KAAP,CACD,CAED,mBACE,KAAC,WAAD,EACE,EAAE,CAAEN,aADN,CAEE,IAAI,CAAEI,OAAO,CAACK,gBAAR,CAAyBC,IAAzB,CAA8BN,OAA9B,CAAuCO,SAAvC,CAFR,CAGE,WAAW,CAAC,WAHd,CAIE,gBAAgB,CAAC,QAJnB,uBAME,KAAC,MAAD,EAAQ,EAAE,CAAE,CAAEC,KAAK,CAAE,KAAT,CAAZ,4BANF,EADF,CAUD,CA7BM","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Button } from \"theme-ui\";\nimport { Decimal } from \"@liquity/lib-base\";\nimport { useLiquity } from \"../../../hooks/LiquityContext\";\nimport { Transaction, useMyTransactionState } from \"../../Transaction\";\nimport { useFarmView } from \"../context/FarmViewContext\";\nimport { useValidationState } from \"../context/useValidationState\";\n\ntype ApproveProps = {\n  amount: Decimal;\n};\n\nconst transactionId = \"farm-approve\";\n\nexport const Approve: React.FC<ApproveProps> = ({ amount }) => {\n  const { dispatchEvent } = useFarmView();\n  const {\n    liquity: { send: liquity }\n  } = useLiquity();\n\n  const { hasApproved } = useValidationState(amount);\n  const transactionState = useMyTransactionState(transactionId);\n\n  useEffect(() => {\n    if (transactionState.type === \"confirmedOneShot\") {\n      dispatchEvent(\"STAKE_APPROVED\");\n    }\n  }, [transactionState.type, dispatchEvent]);\n\n  if (hasApproved) {\n    return null;\n  }\n\n  return (\n    <Transaction\n      id={transactionId}\n      send={liquity.approveUniTokens.bind(liquity, undefined)}\n      showFailure=\"asTooltip\"\n      tooltipPlacement=\"bottom\"\n    >\n      <Button sx={{ width: \"60%\" }}>Approve UNI LP</Button>\n    </Transaction>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}