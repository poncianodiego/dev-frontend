{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLiquitySelector = void 0;\n\nvar react_1 = require(\"react\");\n\nvar equals_1 = require(\"../utils/equals\");\n\nvar useLiquityStore_1 = require(\"./useLiquityStore\");\n\nvar useLiquitySelector = function useLiquitySelector(select) {\n  var store = useLiquityStore_1.useLiquityStore();\n\n  var _react_1$useReducer = react_1.useReducer(function () {\n    return {};\n  }, {}),\n      _react_1$useReducer2 = _slicedToArray(_react_1$useReducer, 2),\n      rerender = _react_1$useReducer2[1];\n\n  react_1.useEffect(function () {\n    return store.subscribe(function (_ref) {\n      var newState = _ref.newState,\n          oldState = _ref.oldState;\n\n      if (!equals_1.equals(select(newState), select(oldState))) {\n        rerender();\n      }\n    });\n  }, [store, select]);\n  return select(store.state);\n};\n\nexports.useLiquitySelector = useLiquitySelector;","map":{"version":3,"sources":["../../../src/hooks/useLiquitySelector.ts"],"names":[],"mappings":";;;;;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAIA,IAAA,QAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,iBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AAEO,IAAM,kBAAkB,GAAG,SAArB,kBAAqB,CAAO,MAAP,EAAwD;AACxF,MAAM,KAAK,GAAG,iBAAA,CAAA,eAAA,EAAd;;AADwF,4BAEnE,OAAA,CAAA,UAAA,CAAW;AAAA,WAAO,EAAP;AAAA,GAAX,EAAuB,EAAvB,CAFmE;AAAA;AAAA,MAE/E,QAF+E;;AAIxF,EAAA,OAAA,CAAA,SAAA,CACE;AAAA,WACE,KAAK,CAAC,SAAN,CAAgB,gBAA2B;AAAA,UAAxB,QAAwB,QAAxB,QAAwB;AAAA,UAAd,QAAc,QAAd,QAAc;;AACzC,UAAI,CAAC,QAAA,CAAA,MAAA,CAAO,MAAM,CAAC,QAAD,CAAb,EAAyB,MAAM,CAAC,QAAD,CAA/B,CAAL,EAAiD;AAC/C,QAAA,QAAQ;AACT;AACF,KAJD,CADF;AAAA,GADF,EAOE,CAAC,KAAD,EAAQ,MAAR,CAPF;AAUA,SAAO,MAAM,CAAC,KAAK,CAAC,KAAP,CAAb;AACD,CAfM;;AAAM,OAAA,CAAA,kBAAA,GAAkB,kBAAlB","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useLiquitySelector = void 0;\nconst react_1 = require(\"react\");\nconst equals_1 = require(\"../utils/equals\");\nconst useLiquityStore_1 = require(\"./useLiquityStore\");\nconst useLiquitySelector = (select) => {\n    const store = useLiquityStore_1.useLiquityStore();\n    const [, rerender] = react_1.useReducer(() => ({}), {});\n    react_1.useEffect(() => store.subscribe(({ newState, oldState }) => {\n        if (!equals_1.equals(select(newState), select(oldState))) {\n            rerender();\n        }\n    }), [store, select]);\n    return select(store.state);\n};\nexports.useLiquitySelector = useLiquitySelector;\n//# sourceMappingURL=useLiquitySelector.js.map"]},"metadata":{},"sourceType":"script"}