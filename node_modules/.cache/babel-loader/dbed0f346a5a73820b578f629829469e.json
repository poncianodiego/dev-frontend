{"ast":null,"code":"import React from\"react\";import{Flex,Box,Card}from\"theme-ui\";import{CRITICAL_COLLATERAL_RATIO,Percent}from\"@liquity/lib-base\";import{Icon}from\"../Icon\";import{StaticRow}from\"./Editor\";import{InfoIcon}from\"../InfoIcon\";import{ActionDescription}from\"../ActionDescription\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CollateralRatio=function CollateralRatio(_ref){var _change$positive,_change$positive$abso,_change$negative,_change$negative$abso,_changePct$nonZeroish;var value=_ref.value,change=_ref.change;var collateralRatioPct=new Percent(value!==null&&value!==void 0?value:{toString:function toString(){return\"N/A\";}});var changePct=change&&new Percent(change);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Box,{sx:{mt:[2,0],ml:3,mr:-2,fontSize:\"24px\"},children:/*#__PURE__*/_jsx(Icon,{name:\"heartbeat\"})}),/*#__PURE__*/_jsx(StaticRow,{label:\"Collateral ratio\",inputId:\"trove-collateral-ratio\",amount:collateralRatioPct.prettify(),color:(value===null||value===void 0?void 0:value.gt(CRITICAL_COLLATERAL_RATIO))?\"success\":(value===null||value===void 0?void 0:value.gt(1.2))?\"warning\":(value===null||value===void 0?void 0:value.lte(1.2))?\"danger\":\"muted\",pendingAmount:(change===null||change===void 0?void 0:(_change$positive=change.positive)===null||_change$positive===void 0?void 0:(_change$positive$abso=_change$positive.absoluteValue)===null||_change$positive$abso===void 0?void 0:_change$positive$abso.gt(10))?\"++\":(change===null||change===void 0?void 0:(_change$negative=change.negative)===null||_change$negative===void 0?void 0:(_change$negative$abso=_change$negative.absoluteValue)===null||_change$negative$abso===void 0?void 0:_change$negative$abso.gt(10))?\"--\":changePct===null||changePct===void 0?void 0:(_changePct$nonZeroish=changePct.nonZeroish(2))===null||_changePct$nonZeroish===void 0?void 0:_changePct$nonZeroish.prettify(),pendingColor:(change===null||change===void 0?void 0:change.positive)?\"success\":\"danger\",infoIcon:/*#__PURE__*/_jsx(InfoIcon,{tooltip:/*#__PURE__*/_jsx(Card,{variant:\"tooltip\",sx:{width:\"220px\"},children:\"The ratio between the dollar value of the collateral and the debt (in LUSD) you are depositing. While the Minimum Collateral Ratio is 110% during normal operation, it is recommended to keep the Collateral Ratio always above 150% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety.\"})})})]}),(value===null||value===void 0?void 0:value.lt(1.5))&&/*#__PURE__*/_jsx(ActionDescription,{children:\"Keeping your CR above 150% can help avoid liquidation under Recovery Mode.\"})]});};","map":{"version":3,"sources":["/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/Trove/CollateralRatio.tsx"],"names":["React","Flex","Box","Card","CRITICAL_COLLATERAL_RATIO","Percent","Icon","StaticRow","InfoIcon","ActionDescription","CollateralRatio","value","change","collateralRatioPct","toString","changePct","mt","ml","mr","fontSize","prettify","gt","lte","positive","absoluteValue","negative","nonZeroish","width","lt"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,IAApB,KAAgC,UAAhC,CAEA,OAASC,yBAAT,CAAyDC,OAAzD,KAAwE,mBAAxE,CAEA,OAASC,IAAT,KAAqB,SAArB,CAEA,OAASC,SAAT,KAA0B,UAA1B,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,iBAAT,KAAkC,sBAAlC,C,6IAOA,MAAO,IAAMC,CAAAA,eAA+C,CAAG,QAAlDA,CAAAA,eAAkD,MAAuB,4GAApBC,CAAAA,KAAoB,MAApBA,KAAoB,CAAbC,MAAa,MAAbA,MAAa,CACpF,GAAMC,CAAAA,kBAAkB,CAAG,GAAIR,CAAAA,OAAJ,CAAYM,KAAZ,SAAYA,KAAZ,UAAYA,KAAZ,CAAqB,CAAEG,QAAQ,CAAE,0BAAM,KAAN,EAAZ,CAArB,CAA3B,CACA,GAAMC,CAAAA,SAAS,CAAGH,MAAM,EAAI,GAAIP,CAAAA,OAAJ,CAAYO,MAAZ,CAA5B,CACA,mBACE,wCACE,MAAC,IAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAN,CAAcC,EAAE,CAAE,CAAlB,CAAqBC,EAAE,CAAE,CAAC,CAA1B,CAA6BC,QAAQ,CAAE,MAAvC,CAAT,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,WAAX,EADF,EADF,cAKE,KAAC,SAAD,EACE,KAAK,CAAC,kBADR,CAEE,OAAO,CAAC,wBAFV,CAGE,MAAM,CAAEN,kBAAkB,CAACO,QAAnB,EAHV,CAIE,KAAK,CACH,CAAAT,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEU,EAAP,CAAUjB,yBAAV,GACI,SADJ,CAEI,CAAAO,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEU,EAAP,CAAU,GAAV,GACA,SADA,CAEA,CAAAV,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEW,GAAP,CAAW,GAAX,GACA,QADA,CAEA,OAXR,CAaE,aAAa,CACX,CAAAV,MAAM,OAAN,EAAAA,MAAM,SAAN,0BAAAA,MAAM,CAAEW,QAAR,mFAAkBC,aAAlB,sEAAiCH,EAAjC,CAAoC,EAApC,GACI,IADJ,CAEI,CAAAT,MAAM,OAAN,EAAAA,MAAM,SAAN,0BAAAA,MAAM,CAAEa,QAAR,mFAAkBD,aAAlB,sEAAiCH,EAAjC,CAAoC,EAApC,GACA,IADA,CAEAN,SAFA,SAEAA,SAFA,wCAEAA,SAAS,CAAEW,UAAX,CAAsB,CAAtB,CAFA,gDAEA,sBAA0BN,QAA1B,EAlBR,CAoBE,YAAY,CAAE,CAAAR,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEW,QAAR,EAAmB,SAAnB,CAA+B,QApB/C,CAqBE,QAAQ,cACN,KAAC,QAAD,EACE,OAAO,cACL,KAAC,IAAD,EAAM,OAAO,CAAC,SAAd,CAAwB,EAAE,CAAE,CAAEI,KAAK,CAAE,OAAT,CAA5B,wWAFJ,EAtBJ,EALF,GADF,CA0CG,CAAAhB,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEiB,EAAP,CAAU,GAAV,iBACC,KAAC,iBAAD,yFA3CJ,GADF,CAkDD,CArDM","sourcesContent":["import React from \"react\";\nimport { Flex, Box, Card } from \"theme-ui\";\n\nimport { CRITICAL_COLLATERAL_RATIO, Decimal, Difference, Percent } from \"@liquity/lib-base\";\n\nimport { Icon } from \"../Icon\";\n\nimport { StaticRow } from \"./Editor\";\nimport { InfoIcon } from \"../InfoIcon\";\nimport { ActionDescription } from \"../ActionDescription\";\n\ntype CollateralRatioProps = {\n  value?: Decimal;\n  change?: Difference;\n};\n\nexport const CollateralRatio: React.FC<CollateralRatioProps> = ({ value, change }) => {\n  const collateralRatioPct = new Percent(value ?? { toString: () => \"N/A\" });\n  const changePct = change && new Percent(change);\n  return (\n    <>\n      <Flex>\n        <Box sx={{ mt: [2, 0], ml: 3, mr: -2, fontSize: \"24px\" }}>\n          <Icon name=\"heartbeat\" />\n        </Box>\n\n        <StaticRow\n          label=\"Collateral ratio\"\n          inputId=\"trove-collateral-ratio\"\n          amount={collateralRatioPct.prettify()}\n          color={\n            value?.gt(CRITICAL_COLLATERAL_RATIO)\n              ? \"success\"\n              : value?.gt(1.2)\n              ? \"warning\"\n              : value?.lte(1.2)\n              ? \"danger\"\n              : \"muted\"\n          }\n          pendingAmount={\n            change?.positive?.absoluteValue?.gt(10)\n              ? \"++\"\n              : change?.negative?.absoluteValue?.gt(10)\n              ? \"--\"\n              : changePct?.nonZeroish(2)?.prettify()\n          }\n          pendingColor={change?.positive ? \"success\" : \"danger\"}\n          infoIcon={\n            <InfoIcon\n              tooltip={\n                <Card variant=\"tooltip\" sx={{ width: \"220px\" }}>\n                  The ratio between the dollar value of the collateral and the debt (in LUSD) you are\n                  depositing. While the Minimum Collateral Ratio is 110% during normal operation, it\n                  is recommended to keep the Collateral Ratio always above 150% to avoid liquidation\n                  under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for\n                  additional safety.\n                </Card>\n              }\n            />\n          }\n        />\n      </Flex>\n      {value?.lt(1.5) && (\n        <ActionDescription>\n          Keeping your CR above 150% can help avoid liquidation under Recovery Mode.\n        </ActionDescription>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}