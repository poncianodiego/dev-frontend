{"ast":null,"code":"import _slicedToArray from\"/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from\"react\";import{Container,Flex,Button}from\"theme-ui\";import{useLiquitySelector}from\"@liquity/lib-react\";import{Icon}from\"./Icon\";import{SystemStats}from\"./SystemStats\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var select=function select(_ref){var total=_ref.total,price=_ref.price;return{total:total,price:price};};export var SystemStatsPopup=function SystemStatsPopup(){var _useLiquitySelector=useLiquitySelector(select),price=_useLiquitySelector.price,total=_useLiquitySelector.total;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),systemStatsOpen=_useState2[0],setSystemStatsOpen=_useState2[1];var systemStatsOverlayRef=useRef(null);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return setSystemStatsOpen(!systemStatsOpen);},variant:\"icon\",sx:{position:\"relative\",display:[\"block\",\"none\"]},children:[/*#__PURE__*/_jsx(Icon,{name:\"info-circle\",size:\"2x\"}),total.collateralRatioIsBelowCritical(price)&&/*#__PURE__*/_jsx(Flex,{sx:{position:\"absolute\",right:0,top:0,width:\"100%\",height:\"100%\",alignItems:\"flex-start\",justifyContent:\"flex-end\",pt:\"2px\",color:\"danger\"},children:/*#__PURE__*/_jsx(Icon,{name:\"exclamation-circle\",size:\"xs\"})})]}),systemStatsOpen&&/*#__PURE__*/_jsx(Container,{variant:\"infoOverlay\",ref:systemStatsOverlayRef,onClick:function onClick(e){if(e.target===systemStatsOverlayRef.current){setSystemStatsOpen(false);}},children:/*#__PURE__*/_jsx(SystemStats,{variant:\"infoPopup\",showBalances:true})})]});};","map":{"version":3,"sources":["/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/SystemStatsPopup.tsx"],"names":["React","useState","useRef","Container","Flex","Button","useLiquitySelector","Icon","SystemStats","select","total","price","SystemStatsPopup","systemStatsOpen","setSystemStatsOpen","systemStatsOverlayRef","position","display","collateralRatioIsBelowCritical","right","top","width","height","alignItems","justifyContent","pt","color","e","target","current"],"mappings":"+LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,KAAwC,OAAxC,CACA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,MAA1B,KAAwC,UAAxC,CAGA,OAASC,kBAAT,KAAmC,oBAAnC,CAEA,OAASC,IAAT,KAAqB,QAArB,CACA,OAASC,WAAT,KAA4B,eAA5B,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,UAAGC,CAAAA,KAAH,MAAGA,KAAH,CAAUC,KAAV,MAAUA,KAAV,OAA0C,CAAED,KAAK,CAALA,KAAF,CAASC,KAAK,CAALA,KAAT,CAA1C,EAAf,CAEA,MAAO,IAAMC,CAAAA,gBAA0B,CAAG,QAA7BA,CAAAA,gBAA6B,EAAM,yBACrBN,kBAAkB,CAACG,MAAD,CADG,CACtCE,KADsC,qBACtCA,KADsC,CAC/BD,KAD+B,qBAC/BA,KAD+B,eAGAT,QAAQ,CAAC,KAAD,CAHR,wCAGvCY,eAHuC,eAGtBC,kBAHsB,eAI9C,GAAMC,CAAAA,qBAAqB,CAAGb,MAAM,CAAiB,IAAjB,CAApC,CAEA,mBACE,wCACE,MAAC,MAAD,EACE,OAAO,CAAE,yBAAMY,CAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAxB,EADX,CAEE,OAAO,CAAC,MAFV,CAGE,EAAE,CAAE,CACFG,QAAQ,CAAE,UADR,CAEFC,OAAO,CAAE,CAAC,OAAD,CAAU,MAAV,CAFP,CAHN,wBAQE,KAAC,IAAD,EAAM,IAAI,CAAC,aAAX,CAAyB,IAAI,CAAC,IAA9B,EARF,CAUGP,KAAK,CAACQ,8BAAN,CAAqCP,KAArC,gBACC,KAAC,IAAD,EACE,EAAE,CAAE,CACFK,QAAQ,CAAE,UADR,CAEFG,KAAK,CAAE,CAFL,CAGFC,GAAG,CAAE,CAHH,CAIFC,KAAK,CAAE,MAJL,CAKFC,MAAM,CAAE,MALN,CAOFC,UAAU,CAAE,YAPV,CAQFC,cAAc,CAAE,UARd,CASFC,EAAE,CAAE,KATF,CAWFC,KAAK,CAAE,QAXL,CADN,uBAeE,KAAC,IAAD,EAAM,IAAI,CAAC,oBAAX,CAAgC,IAAI,CAAC,IAArC,EAfF,EAXJ,GADF,CAgCGb,eAAe,eACd,KAAC,SAAD,EACE,OAAO,CAAC,aADV,CAEE,GAAG,CAAEE,qBAFP,CAGE,OAAO,CAAE,iBAAAY,CAAC,CAAI,CACZ,GAAIA,CAAC,CAACC,MAAF,GAAab,qBAAqB,CAACc,OAAvC,CAAgD,CAC9Cf,kBAAkB,CAAC,KAAD,CAAlB,CACD,CACF,CAPH,uBASE,KAAC,WAAD,EAAa,OAAO,CAAC,WAArB,CAAiC,YAAY,KAA7C,EATF,EAjCJ,GADF,CAgDD,CAtDM","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { Container, Flex, Button } from \"theme-ui\";\n\nimport { LiquityStoreState } from \"@liquity/lib-base\";\nimport { useLiquitySelector } from \"@liquity/lib-react\";\n\nimport { Icon } from \"./Icon\";\nimport { SystemStats } from \"./SystemStats\";\n\nconst select = ({ total, price }: LiquityStoreState) => ({ total, price });\n\nexport const SystemStatsPopup: React.FC = () => {\n  const { price, total } = useLiquitySelector(select);\n\n  const [systemStatsOpen, setSystemStatsOpen] = useState(false);\n  const systemStatsOverlayRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <>\n      <Button\n        onClick={() => setSystemStatsOpen(!systemStatsOpen)}\n        variant=\"icon\"\n        sx={{\n          position: \"relative\",\n          display: [\"block\", \"none\"]\n        }}\n      >\n        <Icon name=\"info-circle\" size=\"2x\" />\n\n        {total.collateralRatioIsBelowCritical(price) && (\n          <Flex\n            sx={{\n              position: \"absolute\",\n              right: 0,\n              top: 0,\n              width: \"100%\",\n              height: \"100%\",\n\n              alignItems: \"flex-start\",\n              justifyContent: \"flex-end\",\n              pt: \"2px\",\n\n              color: \"danger\"\n            }}\n          >\n            <Icon name=\"exclamation-circle\" size=\"xs\" />\n          </Flex>\n        )}\n      </Button>\n\n      {systemStatsOpen && (\n        <Container\n          variant=\"infoOverlay\"\n          ref={systemStatsOverlayRef}\n          onClick={e => {\n            if (e.target === systemStatsOverlayRef.current) {\n              setSystemStatsOpen(false);\n            }\n          }}\n        >\n          <SystemStats variant=\"infoPopup\" showBalances />\n        </Container>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}