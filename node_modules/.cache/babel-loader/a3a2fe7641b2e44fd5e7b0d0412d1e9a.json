{"ast":null,"code":"var _jsxFileName = \"/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/Trove/TroveEditor.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Heading, Box, Card } from \"theme-ui\";\nimport { Percent, Difference, LUSD_LIQUIDATION_RESERVE } from \"@liquity/lib-base\";\nimport { useLiquitySelector } from \"@liquity/lib-react\";\nimport { COIN } from \"../../strings\";\nimport { StaticRow } from \"./Editor\";\nimport { LoadingOverlay } from \"../LoadingOverlay\";\nimport { CollateralRatio } from \"./CollateralRatio\";\nimport { InfoIcon } from \"../InfoIcon\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst select = ({\n  price\n}) => ({\n  price\n});\n\nexport const TroveEditor = ({\n  children,\n  original,\n  edited,\n  fee,\n  borrowingRate,\n  changePending\n}) => {\n  _s();\n\n  const {\n    price\n  } = useLiquitySelector(select);\n  const feePct = new Percent(borrowingRate);\n  const originalCollateralRatio = !original.isEmpty ? original.collateralRatio(price) : undefined;\n  const collateralRatio = !edited.isEmpty ? edited.collateralRatio(price) : undefined;\n  const collateralRatioChange = Difference.between(collateralRatio, originalCollateralRatio);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      children: \"Trove\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: [2, 3]\n      },\n      children: [/*#__PURE__*/_jsxDEV(StaticRow, {\n        label: \"Collateral\",\n        inputId: \"trove-collateral\",\n        amount: edited.collateral.prettify(4),\n        unit: \"ETH\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StaticRow, {\n        label: \"Debt\",\n        inputId: \"trove-debt\",\n        amount: edited.debt.prettify(),\n        unit: COIN\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), original.isEmpty && /*#__PURE__*/_jsxDEV(StaticRow, {\n        label: \"Liquidation Reserve\",\n        inputId: \"trove-liquidation-reserve\",\n        amount: `${LUSD_LIQUIDATION_RESERVE}`,\n        unit: COIN,\n        infoIcon: /*#__PURE__*/_jsxDEV(InfoIcon, {\n          tooltip: /*#__PURE__*/_jsxDEV(Card, {\n            variant: \"tooltip\",\n            sx: {\n              width: \"200px\"\n            },\n            children: \"An amount set aside to cover the liquidator\\u2019s gas costs if your Trove needs to be liquidated. The amount increases your debt and is refunded if you close your Trove by fully paying off its net debt.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StaticRow, {\n        label: \"Borrowing Fee\",\n        inputId: \"trove-borrowing-fee\",\n        amount: fee.toString(2),\n        pendingAmount: feePct.toString(2),\n        unit: COIN,\n        infoIcon: /*#__PURE__*/_jsxDEV(InfoIcon, {\n          tooltip: /*#__PURE__*/_jsxDEV(Card, {\n            variant: \"tooltip\",\n            sx: {\n              width: \"240px\"\n            },\n            children: \"This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CollateralRatio, {\n        value: collateralRatio,\n        change: collateralRatioChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), changePending && /*#__PURE__*/_jsxDEV(LoadingOverlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TroveEditor, \"qnm1a9lzlJnuXXMAGYEjTBIJqTQ=\", false, function () {\n  return [useLiquitySelector];\n});\n\n_c = TroveEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"TroveEditor\");","map":{"version":3,"sources":["/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/Trove/TroveEditor.tsx"],"names":["React","Heading","Box","Card","Percent","Difference","LUSD_LIQUIDATION_RESERVE","useLiquitySelector","COIN","StaticRow","LoadingOverlay","CollateralRatio","InfoIcon","select","price","TroveEditor","children","original","edited","fee","borrowingRate","changePending","feePct","originalCollateralRatio","isEmpty","collateralRatio","undefined","collateralRatioChange","between","p","collateral","prettify","debt","width","toString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Heading, Box, Card } from \"theme-ui\";\n\nimport {\n  Percent,\n  Difference,\n  Decimalish,\n  Decimal,\n  Trove,\n  LiquityStoreState,\n  LUSD_LIQUIDATION_RESERVE\n} from \"@liquity/lib-base\";\nimport { useLiquitySelector } from \"@liquity/lib-react\";\n\nimport { COIN } from \"../../strings\";\n\nimport { StaticRow } from \"./Editor\";\nimport { LoadingOverlay } from \"../LoadingOverlay\";\nimport { CollateralRatio } from \"./CollateralRatio\";\nimport { InfoIcon } from \"../InfoIcon\";\n\ntype TroveEditorProps = {\n  original: Trove;\n  edited: Trove;\n  fee: Decimal;\n  borrowingRate: Decimal;\n  changePending: boolean;\n  dispatch: (\n    action: { type: \"setCollateral\" | \"setDebt\"; newValue: Decimalish } | { type: \"revert\" }\n  ) => void;\n};\n\nconst select = ({ price }: LiquityStoreState) => ({ price });\n\nexport const TroveEditor: React.FC<TroveEditorProps> = ({\n  children,\n  original,\n  edited,\n  fee,\n  borrowingRate,\n  changePending\n}) => {\n  const { price } = useLiquitySelector(select);\n\n  const feePct = new Percent(borrowingRate);\n\n  const originalCollateralRatio = !original.isEmpty ? original.collateralRatio(price) : undefined;\n  const collateralRatio = !edited.isEmpty ? edited.collateralRatio(price) : undefined;\n  const collateralRatioChange = Difference.between(collateralRatio, originalCollateralRatio);\n\n  return (\n    <Card>\n      <Heading>Trove</Heading>\n\n      <Box sx={{ p: [2, 3] }}>\n        <StaticRow\n          label=\"Collateral\"\n          inputId=\"trove-collateral\"\n          amount={edited.collateral.prettify(4)}\n          unit=\"ETH\"\n        />\n\n        <StaticRow label=\"Debt\" inputId=\"trove-debt\" amount={edited.debt.prettify()} unit={COIN} />\n\n        {original.isEmpty && (\n          <StaticRow\n            label=\"Liquidation Reserve\"\n            inputId=\"trove-liquidation-reserve\"\n            amount={`${LUSD_LIQUIDATION_RESERVE}`}\n            unit={COIN}\n            infoIcon={\n              <InfoIcon\n                tooltip={\n                  <Card variant=\"tooltip\" sx={{ width: \"200px\" }}>\n                    An amount set aside to cover the liquidator’s gas costs if your Trove needs to be\n                    liquidated. The amount increases your debt and is refunded if you close your\n                    Trove by fully paying off its net debt.\n                  </Card>\n                }\n              />\n            }\n          />\n        )}\n\n        <StaticRow\n          label=\"Borrowing Fee\"\n          inputId=\"trove-borrowing-fee\"\n          amount={fee.toString(2)}\n          pendingAmount={feePct.toString(2)}\n          unit={COIN}\n          infoIcon={\n            <InfoIcon\n              tooltip={\n                <Card variant=\"tooltip\" sx={{ width: \"240px\" }}>\n                  This amount is deducted from the borrowed amount as a one-time fee. There are no\n                  recurring fees for borrowing, which is thus interest-free.\n                </Card>\n              }\n            />\n          }\n        />\n\n        <CollateralRatio value={collateralRatio} change={collateralRatioChange} />\n\n        {children}\n      </Box>\n\n      {changePending && <LoadingOverlay />}\n    </Card>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}