{"ast":null,"code":"import{useLiquitySelector}from\"@liquity/lib-react\";import{useLiquity}from\"../../hooks/LiquityContext\";import{DisabledRedemption}from\"./DisabledRedemption\";import{RedemptionManager}from\"./RedemptionManager\";import{jsx as _jsx}from\"react/jsx-runtime\";var SECONDS_IN_ONE_DAY=24*60*60;var selectBlockTimestamp=function selectBlockTimestamp(_ref){var blockTimestamp=_ref.blockTimestamp;return blockTimestamp;};export var Redemption=function Redemption(){var _useLiquity=useLiquity(),_useLiquity$liquity$c=_useLiquity.liquity.connection,deploymentDate=_useLiquity$liquity$c.deploymentDate,bootstrapPeriod=_useLiquity$liquity$c.bootstrapPeriod;var blockTimestamp=useLiquitySelector(selectBlockTimestamp);var bootstrapPeriodDays=Math.round(bootstrapPeriod/SECONDS_IN_ONE_DAY);var deploymentTime=deploymentDate.getTime()/1000;var bootstrapEndTime=deploymentTime+bootstrapPeriod;var bootstrapEndDate=new Date(bootstrapEndTime*1000);var redemptionDisabled=blockTimestamp<bootstrapEndTime;if(redemptionDisabled){return/*#__PURE__*/_jsx(DisabledRedemption,{disabledDays:bootstrapPeriodDays,unlockDate:bootstrapEndDate});}return/*#__PURE__*/_jsx(RedemptionManager,{});};","map":{"version":3,"sources":["/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/Redemption/Redemption.tsx"],"names":["useLiquitySelector","useLiquity","DisabledRedemption","RedemptionManager","SECONDS_IN_ONE_DAY","selectBlockTimestamp","blockTimestamp","Redemption","liquity","connection","deploymentDate","bootstrapPeriod","bootstrapPeriodDays","Math","round","deploymentTime","getTime","bootstrapEndTime","bootstrapEndDate","Date","redemptionDisabled"],"mappings":"AACA,OAASA,kBAAT,KAAmC,oBAAnC,CAEA,OAASC,UAAT,KAA2B,4BAA3B,CACA,OAASC,kBAAT,KAAmC,sBAAnC,CACA,OAASC,iBAAT,KAAkC,qBAAlC,C,2CAEA,GAAMC,CAAAA,kBAAkB,CAAG,GAAK,EAAL,CAAU,EAArC,CAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,UAAGC,CAAAA,cAAH,MAAGA,cAAH,OAAsDA,CAAAA,cAAtD,EAA7B,CAEA,MAAO,IAAMC,CAAAA,UAAoB,CAAG,QAAvBA,CAAAA,UAAuB,EAAM,iBAKpCN,UAAU,EAL0B,mCAEtCO,OAFsC,CAGpCC,UAHoC,CAGtBC,cAHsB,uBAGtBA,cAHsB,CAGNC,eAHM,uBAGNA,eAHM,CAOxC,GAAML,CAAAA,cAAc,CAAGN,kBAAkB,CAACK,oBAAD,CAAzC,CAEA,GAAMO,CAAAA,mBAAmB,CAAGC,IAAI,CAACC,KAAL,CAAWH,eAAe,CAAGP,kBAA7B,CAA5B,CACA,GAAMW,CAAAA,cAAc,CAAGL,cAAc,CAACM,OAAf,GAA2B,IAAlD,CACA,GAAMC,CAAAA,gBAAgB,CAAGF,cAAc,CAAGJ,eAA1C,CACA,GAAMO,CAAAA,gBAAgB,CAAG,GAAIC,CAAAA,IAAJ,CAASF,gBAAgB,CAAG,IAA5B,CAAzB,CACA,GAAMG,CAAAA,kBAAkB,CAAGd,cAAc,CAAGW,gBAA5C,CAEA,GAAIG,kBAAJ,CAAwB,CACtB,mBAAO,KAAC,kBAAD,EAAoB,YAAY,CAAER,mBAAlC,CAAuD,UAAU,CAAEM,gBAAnE,EAAP,CACD,CAED,mBAAO,KAAC,iBAAD,IAAP,CACD,CApBM","sourcesContent":["import { BlockPolledLiquityStoreState } from \"@liquity/lib-ethers\";\nimport { useLiquitySelector } from \"@liquity/lib-react\";\n\nimport { useLiquity } from \"../../hooks/LiquityContext\";\nimport { DisabledRedemption } from \"./DisabledRedemption\";\nimport { RedemptionManager } from \"./RedemptionManager\";\n\nconst SECONDS_IN_ONE_DAY = 24 * 60 * 60;\n\nconst selectBlockTimestamp = ({ blockTimestamp }: BlockPolledLiquityStoreState) => blockTimestamp;\n\nexport const Redemption: React.FC = () => {\n  const {\n    liquity: {\n      connection: { deploymentDate, bootstrapPeriod }\n    }\n  } = useLiquity();\n\n  const blockTimestamp = useLiquitySelector(selectBlockTimestamp);\n\n  const bootstrapPeriodDays = Math.round(bootstrapPeriod / SECONDS_IN_ONE_DAY);\n  const deploymentTime = deploymentDate.getTime() / 1000;\n  const bootstrapEndTime = deploymentTime + bootstrapPeriod;\n  const bootstrapEndDate = new Date(bootstrapEndTime * 1000);\n  const redemptionDisabled = blockTimestamp < bootstrapEndTime;\n\n  if (redemptionDisabled) {\n    return <DisabledRedemption disabledDays={bootstrapPeriodDays} unlockDate={bootstrapEndDate} />;\n  }\n\n  return <RedemptionManager />;\n};\n"]},"metadata":{},"sourceType":"module"}