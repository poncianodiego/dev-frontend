{"ast":null,"code":"var _jsxFileName = \"/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/Trove/Editor.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Text, Flex, Label, Input, Button } from \"theme-ui\";\nimport { Icon } from \"../Icon\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Row = ({\n  sx,\n  label,\n  labelId,\n  labelFor,\n  children,\n  infoIcon\n}) => {\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    sx: {\n      alignItems: \"stretch\",\n      ...sx\n    },\n    children: [/*#__PURE__*/_jsxDEV(Label, {\n      id: labelId,\n      htmlFor: labelFor,\n      sx: {\n        p: 0,\n        pl: 3,\n        pt: \"12px\",\n        position: \"absolute\",\n        fontSize: 1,\n        border: 1,\n        borderColor: \"transparent\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        sx: {\n          alignItems: \"center\"\n        },\n        children: [label, infoIcon && infoIcon]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n_c = Row;\n\nconst PendingAmount = ({\n  sx,\n  value\n}) => /*#__PURE__*/_jsxDEV(Text, {\n  sx,\n  children: [\"(\", value === \"++\" ? /*#__PURE__*/_jsxDEV(Icon, {\n    name: \"angle-double-up\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 7\n  }, this) : value === \"--\" ? /*#__PURE__*/_jsxDEV(Icon, {\n    name: \"angle-double-down\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 7\n  }, this) : (value === null || value === void 0 ? void 0 : value.startsWith(\"+\")) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      name: \"angle-up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), \" \", value.substr(1)]\n  }, void 0, true) : (value === null || value === void 0 ? void 0 : value.startsWith(\"-\")) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      name: \"angle-down\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), \" \", value.substr(1)]\n  }, void 0, true) : value, \")\"]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 45,\n  columnNumber: 3\n}, this);\n\n_c2 = PendingAmount;\nexport const StaticAmounts = ({\n  sx,\n  inputId,\n  labelledBy,\n  amount,\n  unit,\n  color,\n  pendingAmount,\n  pendingColor,\n  onClick,\n  children\n}) => {\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    id: inputId,\n    \"aria-labelledby\": labelledBy,\n    onClick,\n    sx: {\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      ...(onClick ? {\n        cursor: \"text\"\n      } : {}),\n      ...staticStyle,\n      ...sx\n    },\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        sx: {\n          color,\n          fontWeight: \"medium\"\n        },\n        children: amount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), unit && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(Text, {\n          sx: {\n            fontWeight: \"light\",\n            opacity: 0.8\n          },\n          children: unit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), pendingAmount && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(PendingAmount, {\n          sx: {\n            color: pendingColor,\n            opacity: 0.8,\n            fontSize: \"0.666em\"\n          },\n          value: pendingAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_c3 = StaticAmounts;\nconst staticStyle = {\n  flexGrow: 1,\n  mb: 0,\n  pl: 3,\n  pr: \"11px\",\n  pb: 0,\n  pt: \"28px\",\n  fontSize: 3,\n  border: 1,\n  borderColor: \"transparent\"\n};\nconst editableStyle = {\n  flexGrow: 1,\n  mb: [2, 3],\n  pl: 3,\n  pr: \"11px\",\n  pb: 2,\n  pt: \"28px\",\n  fontSize: 4,\n  boxShadow: [1, 2],\n  border: 1,\n  borderColor: \"muted\"\n};\nexport const StaticRow = ({\n  label,\n  labelId,\n  labelFor,\n  infoIcon,\n  ...props\n}) => /*#__PURE__*/_jsxDEV(Row, {\n  label,\n  labelId,\n  labelFor,\n  infoIcon,\n  sx: {\n    mt: [-2, -3],\n    pb: [2, 3]\n  },\n  children: /*#__PURE__*/_jsxDEV(StaticAmounts, { ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 170,\n  columnNumber: 3\n}, this);\n_c4 = StaticRow;\nexport const DisabledEditableRow = ({\n  inputId,\n  label,\n  unit,\n  amount,\n  color,\n  pendingAmount,\n  pendingColor\n}) => /*#__PURE__*/_jsxDEV(Row, {\n  labelId: `${inputId}-label`,\n  label,\n  unit,\n  children: /*#__PURE__*/_jsxDEV(StaticAmounts, {\n    sx: { ...editableStyle,\n      boxShadow: 0\n    },\n    labelledBy: `${inputId}-label`,\n    inputId,\n    amount,\n    unit,\n    color,\n    pendingAmount,\n    pendingColor\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 188,\n  columnNumber: 3\n}, this);\n_c5 = DisabledEditableRow;\nexport const EditableRow = ({\n  label,\n  inputId,\n  unit,\n  amount,\n  color,\n  pendingAmount,\n  pendingColor,\n  editingState,\n  editedAmount,\n  setEditedAmount,\n  maxAmount,\n  maxedOut\n}) => {\n  _s();\n\n  const [editing, setEditing] = editingState;\n  const [invalid, setInvalid] = useState(false);\n  return editing === inputId ? /*#__PURE__*/_jsxDEV(Row, {\n    label,\n    labelFor: inputId,\n    unit,\n    children: /*#__PURE__*/_jsxDEV(Input, {\n      autoFocus: true,\n      id: inputId,\n      type: \"number\",\n      step: \"any\",\n      defaultValue: editedAmount,\n      invalid,\n      onChange: e => {\n        try {\n          setEditedAmount(e.target.value);\n          setInvalid(false);\n        } catch {\n          setInvalid(true);\n        }\n      },\n      onBlur: () => {\n        setEditing(undefined);\n        setInvalid(false);\n      },\n      variant: \"editor\",\n      sx: { ...editableStyle,\n        fontWeight: \"medium\",\n        bg: invalid ? \"invalid\" : \"background\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Row, {\n    labelId: `${inputId}-label`,\n    label,\n    unit,\n    children: /*#__PURE__*/_jsxDEV(StaticAmounts, {\n      sx: { ...editableStyle,\n        bg: invalid ? \"invalid\" : \"background\"\n      },\n      labelledBy: `${inputId}-label`,\n      onClick: () => setEditing(inputId),\n      inputId,\n      amount,\n      unit,\n      color,\n      pendingAmount,\n      pendingColor,\n      invalid,\n      children: maxAmount && /*#__PURE__*/_jsxDEV(Button, {\n        sx: {\n          fontSize: 1,\n          p: 1,\n          px: 3\n        },\n        onClick: event => {\n          setEditedAmount(maxAmount);\n          event.stopPropagation();\n        },\n        disabled: maxedOut,\n        children: \"max\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditableRow, \"/37Wgrk4zm+jNyhK6qliLSds88k=\");\n\n_c6 = EditableRow;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Row\");\n$RefreshReg$(_c2, \"PendingAmount\");\n$RefreshReg$(_c3, \"StaticAmounts\");\n$RefreshReg$(_c4, \"StaticRow\");\n$RefreshReg$(_c5, \"DisabledEditableRow\");\n$RefreshReg$(_c6, \"EditableRow\");","map":{"version":3,"sources":["/Users/diegoponciano/Desktop/ryan/liquity/frontend/packages/dev-frontend/src/components/Trove/Editor.tsx"],"names":["React","useState","Text","Flex","Label","Input","Button","Icon","Row","sx","label","labelId","labelFor","children","infoIcon","alignItems","p","pl","pt","position","fontSize","border","borderColor","PendingAmount","value","startsWith","substr","StaticAmounts","inputId","labelledBy","amount","unit","color","pendingAmount","pendingColor","onClick","justifyContent","cursor","staticStyle","fontWeight","opacity","flexGrow","mb","pr","pb","editableStyle","boxShadow","StaticRow","props","mt","DisabledEditableRow","EditableRow","editingState","editedAmount","setEditedAmount","maxAmount","maxedOut","editing","setEditing","invalid","setInvalid","e","target","undefined","bg","px","event","stopPropagation"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Text, Flex, Label, Input, SxProp, Button, ThemeUICSSProperties } from \"theme-ui\";\n\nimport { Icon } from \"../Icon\";\n\ntype RowProps = SxProp & {\n  label: string;\n  labelId?: string;\n  labelFor?: string;\n  infoIcon?: React.ReactNode;\n};\n\nexport const Row: React.FC<RowProps> = ({ sx, label, labelId, labelFor, children, infoIcon }) => {\n  return (\n    <Flex sx={{ alignItems: \"stretch\", ...sx }}>\n      <Label\n        id={labelId}\n        htmlFor={labelFor}\n        sx={{\n          p: 0,\n          pl: 3,\n          pt: \"12px\",\n          position: \"absolute\",\n\n          fontSize: 1,\n          border: 1,\n          borderColor: \"transparent\"\n        }}\n      >\n        <Flex sx={{ alignItems: \"center\" }}>\n          {label}\n          {infoIcon && infoIcon}\n        </Flex>\n      </Label>\n      {children}\n    </Flex>\n  );\n};\n\ntype PendingAmountProps = {\n  value: string;\n};\n\nconst PendingAmount: React.FC<PendingAmountProps & SxProp> = ({ sx, value }) => (\n  <Text {...{ sx }}>\n    (\n    {value === \"++\" ? (\n      <Icon name=\"angle-double-up\" />\n    ) : value === \"--\" ? (\n      <Icon name=\"angle-double-down\" />\n    ) : value?.startsWith(\"+\") ? (\n      <>\n        <Icon name=\"angle-up\" /> {value.substr(1)}\n      </>\n    ) : value?.startsWith(\"-\") ? (\n      <>\n        <Icon name=\"angle-down\" /> {value.substr(1)}\n      </>\n    ) : (\n      value\n    )}\n    )\n  </Text>\n);\n\ntype StaticAmountsProps = {\n  inputId: string;\n  labelledBy?: string;\n  amount: string;\n  unit?: string;\n  color?: string;\n  pendingAmount?: string;\n  pendingColor?: string;\n  onClick?: () => void;\n};\n\nexport const StaticAmounts: React.FC<StaticAmountsProps & SxProp> = ({\n  sx,\n  inputId,\n  labelledBy,\n  amount,\n  unit,\n  color,\n  pendingAmount,\n  pendingColor,\n  onClick,\n  children\n}) => {\n  return (\n    <Flex\n      id={inputId}\n      aria-labelledby={labelledBy}\n      {...{ onClick }}\n      sx={{\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n\n        ...(onClick ? { cursor: \"text\" } : {}),\n\n        ...staticStyle,\n        ...sx\n      }}\n    >\n      <Flex sx={{ alignItems: \"center\" }}>\n        <Text sx={{ color, fontWeight: \"medium\" }}>{amount}</Text>\n\n        {unit && (\n          <>\n            &nbsp;\n            <Text sx={{ fontWeight: \"light\", opacity: 0.8 }}>{unit}</Text>\n          </>\n        )}\n\n        {pendingAmount && (\n          <>\n            &nbsp;\n            <PendingAmount\n              sx={{ color: pendingColor, opacity: 0.8, fontSize: \"0.666em\" }}\n              value={pendingAmount}\n            />\n          </>\n        )}\n      </Flex>\n\n      {children}\n    </Flex>\n  );\n};\n\nconst staticStyle: ThemeUICSSProperties = {\n  flexGrow: 1,\n\n  mb: 0,\n  pl: 3,\n  pr: \"11px\",\n  pb: 0,\n  pt: \"28px\",\n\n  fontSize: 3,\n\n  border: 1,\n  borderColor: \"transparent\"\n};\n\nconst editableStyle: ThemeUICSSProperties = {\n  flexGrow: 1,\n\n  mb: [2, 3],\n  pl: 3,\n  pr: \"11px\",\n  pb: 2,\n  pt: \"28px\",\n\n  fontSize: 4,\n\n  boxShadow: [1, 2],\n  border: 1,\n  borderColor: \"muted\"\n};\n\ntype StaticRowProps = RowProps & StaticAmountsProps;\n\nexport const StaticRow: React.FC<StaticRowProps> = ({\n  label,\n  labelId,\n  labelFor,\n  infoIcon,\n  ...props\n}) => (\n  <Row {...{ label, labelId, labelFor, infoIcon }} sx={{ mt: [-2, -3], pb: [2, 3] }}>\n    <StaticAmounts {...props} />\n  </Row>\n);\n\ntype DisabledEditableRowProps = Omit<StaticAmountsProps, \"labelledBy\" | \"onClick\"> & {\n  label: string;\n};\n\nexport const DisabledEditableRow: React.FC<DisabledEditableRowProps> = ({\n  inputId,\n  label,\n  unit,\n  amount,\n  color,\n  pendingAmount,\n  pendingColor\n}) => (\n  <Row labelId={`${inputId}-label`} {...{ label, unit }}>\n    <StaticAmounts\n      sx={{ ...editableStyle, boxShadow: 0 }}\n      labelledBy={`${inputId}-label`}\n      {...{ inputId, amount, unit, color, pendingAmount, pendingColor }}\n    />\n  </Row>\n);\n\ntype EditableRowProps = DisabledEditableRowProps & {\n  editingState: [string | undefined, (editing: string | undefined) => void];\n  editedAmount: string;\n  setEditedAmount: (editedAmount: string) => void;\n  maxAmount?: string;\n  maxedOut?: boolean;\n};\n\nexport const EditableRow: React.FC<EditableRowProps> = ({\n  label,\n  inputId,\n  unit,\n  amount,\n  color,\n  pendingAmount,\n  pendingColor,\n  editingState,\n  editedAmount,\n  setEditedAmount,\n  maxAmount,\n  maxedOut\n}) => {\n  const [editing, setEditing] = editingState;\n  const [invalid, setInvalid] = useState(false);\n\n  return editing === inputId ? (\n    <Row {...{ label, labelFor: inputId, unit }}>\n      <Input\n        autoFocus\n        id={inputId}\n        type=\"number\"\n        step=\"any\"\n        defaultValue={editedAmount}\n        {...{ invalid }}\n        onChange={e => {\n          try {\n            setEditedAmount(e.target.value);\n            setInvalid(false);\n          } catch {\n            setInvalid(true);\n          }\n        }}\n        onBlur={() => {\n          setEditing(undefined);\n          setInvalid(false);\n        }}\n        variant=\"editor\"\n        sx={{\n          ...editableStyle,\n          fontWeight: \"medium\",\n          bg: invalid ? \"invalid\" : \"background\"\n        }}\n      />\n    </Row>\n  ) : (\n    <Row labelId={`${inputId}-label`} {...{ label, unit }}>\n      <StaticAmounts\n        sx={{\n          ...editableStyle,\n          bg: invalid ? \"invalid\" : \"background\"\n        }}\n        labelledBy={`${inputId}-label`}\n        onClick={() => setEditing(inputId)}\n        {...{ inputId, amount, unit, color, pendingAmount, pendingColor, invalid }}\n      >\n        {maxAmount && (\n          <Button\n            sx={{ fontSize: 1, p: 1, px: 3 }}\n            onClick={event => {\n              setEditedAmount(maxAmount);\n              event.stopPropagation();\n            }}\n            disabled={maxedOut}\n          >\n            max\n          </Button>\n        )}\n      </StaticAmounts>\n    </Row>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}